# PaperTools

[English](README_EN.md) | ä¸­æ–‡

PaperTools æ˜¯ä¸€ä¸ªå®Œæ•´çš„å­¦æœ¯è®ºæ–‡å¤„ç†æµæ°´çº¿ï¼Œæä¾›è‡ªåŠ¨åŒ–çš„è®ºæ–‡çˆ¬å–ã€æ™ºèƒ½ç­›é€‰ã€æ€»ç»“ç”Ÿæˆå’Œç½‘é¡µç”ŸæˆåŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- **è‡ªåŠ¨çˆ¬å–**: ä»arXivç­‰å­¦æœ¯å¹³å°è‡ªåŠ¨çˆ¬å–æœ€æ–°è®ºæ–‡
- **LLMæ™ºèƒ½ç­›é€‰**: ä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹æŒ‰ç ”ç©¶é¢†åŸŸæ™ºèƒ½ç­›é€‰è®ºæ–‡
- **è‡ªåŠ¨æ€»ç»“**: åŸºäºjinja.aiè·å–å®Œæ•´è®ºæ–‡å†…å®¹ï¼Œç”Ÿæˆé«˜è´¨é‡ä¸­æ–‡æ€»ç»“
- **çµæ„Ÿæº¯æº**: æ·±åº¦åˆ†æè®ºæ–‡åˆ›æ–°æ€è·¯çš„æ¼”è¿›è¿‡ç¨‹ï¼Œä»æŒ‘æˆ˜è¯†åˆ«åˆ°è§£å†³æ–¹æ¡ˆçš„å®Œæ•´é€»è¾‘é“¾
- **ç½‘é¡µç”Ÿæˆ**: å°†è®ºæ–‡è½¬æ¢ä¸ºç°ä»£åŒ–è®¾è®¡çš„äº¤äº’å¼HTMLç½‘é¡µï¼Œæ”¯æŒå¯æŠ˜å å†…å®¹å±•ç¤º
- **æœ¬åœ°éƒ¨ç½²**: ä¸€é”®å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œä¾¿äºæµè§ˆå’Œåˆ†äº«
- **äº¤äº’åŠŸèƒ½**: æ”¯æŒè®ºæ–‡æ”¶è—ã€å·²è¯»çŠ¶æ€è·Ÿè¸ªå’Œåˆ é™¤ï¼ŒçŠ¶æ€æŒä¹…åŒ–ä¿å­˜

## å¿«é€Ÿå¼€å§‹

```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. é…ç½® API å¯†é’¥
cp .env.example .env
# ç¼–è¾‘ .envï¼Œå¡«å…¥ä½ çš„ OPENAI_API_KEYã€OPENAI_BASE_URLã€MODEL

# 3. è¿è¡Œ
python papertools.py run --mode quick   # å¿«é€Ÿæµ‹è¯•ï¼ˆ10ç¯‡ï¼‰
python papertools.py run                # å®Œæ•´è¿è¡Œ
```

## å¸¸ç”¨å‘½ä»¤

```bash
python papertools.py run [é€‰é¡¹]         # è¿è¡Œæµæ°´çº¿
  --mode {quick,full}                   #   å¤„ç†æ¨¡å¼
  --date YYYY-MM-DD                     #   æŒ‡å®šæ—¥æœŸ
  --categories cs.AI cs.CL              #   æŒ‡å®šç±»åˆ«
  --max-papers-total N                  #   è‡ªå®šä¹‰æ•°é‡

python papertools.py serve              # å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
python papertools.py check              # æ£€æŸ¥ç¯å¢ƒä¾èµ–
python papertools.py clean              # æ¸…ç†ç¼“å­˜
python papertools.py --help             # æŸ¥çœ‹å¸®åŠ©
```

<details>
<summary>é«˜çº§ç”¨æ³•ï¼šç‹¬ç«‹æ¨¡å—</summary>

```bash
python src/core/crawl_arxiv.py --categories cs.AI cs.CV --max-papers 100
python src/core/paper_filter.py --input-file arxiv_paper/papers.json
python src/core/generate_summary.py --input-file domain_paper/filtered_papers.json
python src/core/generate_unified_index.py
python src/core/serve_webpages.py --port 8080
```

</details>


## é…ç½®è¯´æ˜
é¡¹ç›®çš„æ ¸å¿ƒé…ç½®é›†ä¸­åœ¨ä¸¤ä¸ªæ–‡ä»¶ï¼š`.env` ç”¨äºå­˜æ”¾æ•æ„Ÿä¿¡æ¯å’Œç¯å¢ƒç‰¹å®šå˜é‡ï¼Œ`src/utils/config.py` ç”¨äºå®šä¹‰ç¨‹åºçš„é»˜è®¤è¡Œä¸ºå’Œå‚æ•°ã€‚

### ç¯å¢ƒå˜é‡ (`.env`)

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶ï¼ˆå¯ä» `.env.example` å¤åˆ¶ï¼‰æ¥é…ç½®ä»¥ä¸‹å†…å®¹ï¼š

```bash
# APIé…ç½® (å¿…éœ€)
OPENAI_API_KEY=your_api_key_here         # ä½ çš„å¤§æ¨¡å‹APIå¯†é’¥
OPENAI_BASE_URL=https://api.example.com/v1 # APIçš„è®¿é—®åœ°å€
MODEL=your_model_name                    # ä½¿ç”¨çš„æ¨¡å‹åç§°

# Jina APIé…ç½® (å¯é€‰ï¼Œç”¨äºå…¨æ–‡é˜…è¯»)
JINA_API_TOKEN=your_jina_token_here      # Jina Reader APIçš„ä»¤ç‰Œ
```

### æ ¸å¿ƒé…ç½®æ–‡ä»¶ (`src/utils/config.py`)

æ­¤æ–‡ä»¶å®šä¹‰äº†æµæ°´çº¿çš„å„ç§é»˜è®¤è¡Œä¸ºã€‚ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œå®šåˆ¶ã€‚

#### é‡ç‚¹ï¼šå®šåˆ¶ä½ çš„è®ºæ–‡ç­›é€‰æ ‡å‡† (`PAPER_FILTER_PROMPT`)

`PAPER_FILTER_PROMPT` æ˜¯ä¸€ä¸ªPromptæ¨¡æ¿ï¼Œç”¨äºæŒ‡å¯¼å¤§è¯­è¨€æ¨¡å‹åˆ¤æ–­ä¸€ç¯‡è®ºæ–‡æ˜¯å¦ç¬¦åˆä½ çš„ç ”ç©¶å…´è¶£ã€‚

#### ä¸»è¦é…ç½®å‚æ•°

-   **APIä¸è¯·æ±‚ç›¸å…³**
    -   `TEMPERATURE`: æ¨¡å‹ç”Ÿæˆå†…å®¹çš„æ¸©åº¦ï¼Œè¶Šä½ç»“æœè¶Šç¨³å®šã€‚
    -   `REQUEST_TIMEOUT`: APIè¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ã€‚
    -   `REQUEST_DELAY`: ä¸¤æ¬¡è¯·æ±‚ä¹‹é—´çš„å»¶è¿Ÿï¼ˆç§’ï¼‰ï¼Œç”¨äºé¿å…é€Ÿç‡é™åˆ¶ã€‚

-   **ç›®å½•é…ç½®**
    -   `ARXIV_PAPER_DIR`, `DOMAIN_PAPER_DIR`, `SUMMARY_DIR`, `WEBPAGES_DIR`: å®šä¹‰äº†æµæ°´çº¿å„ä¸ªé˜¶æ®µäº§å‡ºæ–‡ä»¶çš„å­˜å‚¨ç›®å½•ã€‚

-   **ç¼“å­˜é…ç½®**
    -   `ENABLE_CACHE`: æ˜¯å¦å¯ç”¨ç¼“å­˜ï¼Œå»ºè®®ä¿æŒ `True` ä»¥èŠ‚çœæ—¶é—´å’ŒAPIè°ƒç”¨æˆæœ¬ã€‚
    -   `CACHE_EXPIRY_DAYS`: ç¼“å­˜çš„æœ‰æ•ˆå¤©æ•°ã€‚

-   **çˆ¬å–ä¸å¤„ç†æ•°é‡**
    -   `CRAWL_CATEGORIES`: é»˜è®¤çˆ¬å–çš„arXivç±»åˆ«ã€‚
    -   `MAX_PAPERS_PER_CATEGORY`: æ¯ä¸ªç±»åˆ«æœ€å¤šçˆ¬å–çš„è®ºæ–‡æ•°ã€‚
    -   `MAX_PAPERS_TOTAL_QUICK`: `quick` æ¨¡å¼ä¸‹å¤„ç†çš„æ€»è®ºæ–‡æ•°ã€‚
    -   `MAX_PAPERS_TOTAL_FULL`: `full` æ¨¡å¼ä¸‹å¤„ç†çš„æ€»è®ºæ–‡æ•°ã€‚
    -   `MAX_PAPERS_TOTAL_DEFAULT`: ç›´æ¥è¿è¡Œ `pipeline.py` æ—¶çš„é»˜è®¤å¤„ç†æ•°é‡ã€‚

-   **å¹¶å‘æ§åˆ¶**
    -   `MAX_WORKERS`: å…¨å±€æœ€å¤§å¹¶å‘çº¿ç¨‹æ•°ï¼Œé€‚ç”¨äºçˆ¬å–ã€ç­›é€‰å’Œæ€»ç»“ç­‰å¤šä¸ªæ­¥éª¤ã€‚


## ğŸš€ éƒ¨ç½²åˆ° GitHub Pages

æ‚¨å¯ä»¥å°†ç”Ÿæˆçš„è®ºæ–‡ç½‘ç«™å…è´¹å‘å¸ƒåˆ° GitHub Pagesï¼Œæ–¹ä¾¿å…¬å¼€è®¿é—®å’Œåˆ†äº«ã€‚æ¨èä½¿ç”¨ Fork + GitHub Actions çš„æ–¹å¼å®ç°å…¨è‡ªåŠ¨éƒ¨ç½²ã€‚

### æ­¥éª¤ 1: Fork æœ¬ä»“åº“
ç‚¹å‡»æœ¬é¡µé¢å³ä¸Šè§’çš„ **Fork** æŒ‰é’®ï¼Œå°†æ­¤é¡¹ç›®å¤åˆ¶åˆ°æ‚¨è‡ªå·±çš„ GitHub è´¦æˆ·ä¸‹ã€‚

### æ­¥éª¤ 2: é…ç½® Pages å’Œ Actions æƒé™

1.  **é…ç½® Pages æº**:
    *   åœ¨æ‚¨ Fork åçš„ä»“åº“é¡µé¢ï¼Œè¿›å…¥ `Settings` > `Pages`ã€‚
    *   åœ¨ `Build and deployment` ä¸‹çš„ `Source` é€‰é¡¹ä¸­ï¼Œé€‰æ‹© `GitHub Actions`ã€‚

2.  **é…ç½® Actions æƒé™ (å…³é”®æ­¥éª¤)**:
    *   åœ¨ä»“åº“é¡µé¢ï¼Œè¿›å…¥ `Settings` > `Actions` > `General`ã€‚
    *   æ»šåŠ¨åˆ° `Workflow permissions` éƒ¨åˆ†ã€‚
    *   é€‰æ‹© `Read and write permissions`ã€‚
    *   å‹¾é€‰ `Allow GitHub Actions to create and approve pull requests`ã€‚
    *   ç‚¹å‡» `Save`ã€‚

    *æ­¤è®¾ç½®ä¸º Actions æä¾›äº†å°†æ„å»ºå¥½çš„ç½‘ç«™æ–‡ä»¶æ¨é€åˆ° `gh-pages` åˆ†æ”¯æ‰€éœ€çš„æƒé™ã€‚*

### æ­¥éª¤ 3: è§¦å‘è‡ªåŠ¨éƒ¨ç½²å¹¶è®¿é—®
- **é¦–æ¬¡éƒ¨ç½²**: å®Œæˆä¸Šè¿°é…ç½®åï¼ŒActions ä¼šè‡ªåŠ¨è¿è¡Œä¸€æ¬¡ï¼ˆæˆ–æ‰‹åŠ¨åœ¨ `Actions` æ ‡ç­¾é¡µè§¦å‘ `Deploy to GitHub Pages`ï¼‰ï¼Œç­‰å¾…å‡ åˆ†é’Ÿå³å¯ã€‚
- **æ›´æ–°ç½‘ç«™**: å¦‚æœæ‚¨æƒ³å®šåˆ¶ç­›é€‰è§„åˆ™ï¼Œå¯ä»¥ä¿®æ”¹ `src/utils/config.py` ä¸­çš„ `PAPER_FILTER_PROMPT`ï¼Œç„¶åå°†æ›´æ”¹æ¨é€åˆ°æ‚¨ä»“åº“çš„ `main` åˆ†æ”¯ã€‚GitHub Actions ä¼šè‡ªåŠ¨é‡æ–°ç”Ÿæˆå’Œéƒ¨ç½²ç½‘ç«™ã€‚

éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨çš„ç½‘ç«™å°†åœ¨ `https://<æ‚¨çš„ç”¨æˆ·å>.github.io/<ä»“åº“å>/` ä¸Šå¯ç”¨ã€‚

### å¤‡é€‰æ–¹æ¡ˆï¼šæ‰‹åŠ¨éƒ¨ç½²
å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨ Actionsï¼Œä¹Ÿå¯ä»¥åœ¨æœ¬åœ°ç”Ÿæˆç½‘ç«™åï¼Œå°† `webpages` ç›®å½•çš„å†…å®¹æ‰‹åŠ¨ä¸Šä¼ åˆ°ä»»ä½•é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ã€‚


## é¡¹ç›®ç»“æ„

```
PaperTools/
â”œâ”€â”€ papertools.py              # ä¸»å…¥å£ç‚¹
â”œâ”€â”€ requirements.txt           # ä¾èµ–åŒ…
â”œâ”€â”€ .env.example              # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ README.md                 # ä¸­æ–‡æ–‡æ¡£
â”œâ”€â”€ README_EN.md              # è‹±æ–‡æ–‡æ¡£
â”œâ”€â”€ src/                      # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ core/                 # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ pipeline.py       # ä¸»æµæ°´çº¿è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ crawl_arxiv.py    # è®ºæ–‡çˆ¬å–
â”‚   â”‚   â”œâ”€â”€ paper_filter.py   # è®ºæ–‡ç­›é€‰
â”‚   â”‚   â”œâ”€â”€ generate_summary.py # æ€»ç»“å’Œçµæ„Ÿæº¯æºç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ generate_unified_index.py # ç»Ÿä¸€ç½‘é¡µç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ serve_webpages.py # æœ¬åœ°æœåŠ¡å™¨
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å’Œé…ç½®
â”‚   â”‚   â”œâ”€â”€ config.py         # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ cache_manager.py  # ç¼“å­˜ç®¡ç†
â”‚   â””â”€â”€ legacy/               # æ—§ç‰ˆæœ¬/å®éªŒæ€§ä»£ç 
â”œâ”€â”€ arxiv_paper/              # çˆ¬å–çš„åŸå§‹è®ºæ–‡
â”œâ”€â”€ domain_paper/             # ç­›é€‰åçš„è®ºæ–‡
â”œâ”€â”€ summary/                  # ç”Ÿæˆçš„æ€»ç»“
â””â”€â”€ webpages/                 # ç”Ÿæˆçš„ç½‘é¡µ
```

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤Issueså’ŒPull Requestsæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ã€‚

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡GitHub Issuesè”ç³»æˆ‘ä»¬ã€‚

---

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·æ˜Ÿæ ‡æ”¯æŒï¼
